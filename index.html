<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Caixa de Natal üéÑ</title>
  <style>
    body { margin: 0; overflow: hidden; background: #111; }
  </style>
</head>
<body>

<script type="module">
import * as THREE from "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js";

const scene = new THREE.Scene();

const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.z = 3;

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// Caixa
const geometry = new THREE.BoxGeometry(1, 1, 1);
const textureLoader = new THREE.TextureLoader();
const giftTexture = textureLoader.load("./gift.jpg");
const material = new THREE.MeshStandardMaterial({ map: giftTexture });
const box = new THREE.Mesh(geometry, material);
scene.add(box);

// La√ßo realista
const loopMaterial = new THREE.MeshStandardMaterial({ color: 0xff0000 });

// Arcos do la√ßo (dois loops)
const loop1 = new THREE.Mesh(new THREE.TorusGeometry(0.25, 0.05, 16, 100), loopMaterial);
loop1.position.set(0.15, 0.55, 0);
loop1.rotation.z = Math.PI / 4;
scene.add(loop1);

const loop2 = new THREE.Mesh(new THREE.TorusGeometry(0.25, 0.05, 16, 100), loopMaterial);
loop2.position.set(-0.15, 0.55, 0);
loop2.rotation.z = -Math.PI / 4;
scene.add(loop2);

// N√≥ central (pequeno cylinder)
const knot = new THREE.Mesh(new THREE.CylinderGeometry(0.06, 0.06, 0.05, 32), loopMaterial);
knot.position.y = 0.55;
knot.rotation.x = Math.PI / 2;
scene.add(knot);

// Luzes
const ambientLight = new THREE.AmbientLight(0xffffff, 0.9);
scene.add(ambientLight);

const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
directionalLight.position.set(3, 8, 3);
scene.add(directionalLight);

// Anima√ß√£o
function animate(time) {
  requestAnimationFrame(animate);
  time *= 0.001;

  // Pulo
  const jump = Math.abs(Math.sin(time * 2)) * 0.2;
  box.position.y = jump;

  // La√ßo pula junto
  loop1.position.y = 0.55 + jump;
  loop2.position.y = 0.55 + jump;
  knot.position.y = 0.55 + jump;

  // Escala da caixa
  const scaleFactor = 1 + jump;
  box.scale.set(scaleFactor, scaleFactor, scaleFactor);

  // Rota√ß√£o
  box.rotation.y += 0.021;
  loop1.rotation.y += 0.021;
  loop2.rotation.y += 0.021;
  knot.rotation.y += 0.021;

  renderer.render(scene, camera);
}

animate();

</script>
</body>
</html>
